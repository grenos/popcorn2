{"version":3,"sources":["components/TitleModal/TitleModal.tsx","router/pages/TitlePage.tsx"],"names":["Options","height","playerVars","autoplay","cc_load_policy","disablekb","origin","enablejsapi","iv_load_policy","loop","modestbranding","playsinline","rel","showinfo","TitleModal","_ref","movieInfo","ww","useWindowSize","_useState","useState","_useState2","Object","slicedToArray","_WW","set_WW","_useState3","_useState4","bottomMargin","setbottomMargin","useEffect","innerWidth","backdrop_path","get","homepage","original_language","overview","release_date","runtime","tagline","title","movieVid","vote_average","created_by","first_air_date","episode_run_time","genres","name","number_of_seasons","react_default","a","createElement","className","style","background","concat","filterNoImg","String","IMG","popcorn","src","logo","alt","YouTube","videoId","containerClassName","opts","esm","noDefaultStyles","momentum","marginBottom","map","_ref2","id","key","ep","reverseMe","toUpperCase","length","_ref3","href","target","internet","closeStyle","position","top","margin","left","width","cursor","connect","state","isMovieModalOpen","uiReducer","isMovieCatSelected","movieInfoModal","moviesReducer","serieInfoModal","seriesReducer","isRelatedMovieSelected","history","show","set","handleClose","setTimeout","goBack","renderprops_cjs","items","from","opacity","transform","enter","leave","config","tension","mass","friction","clamp","velocity","props","components_TitleModal_TitleModal","onClick","back"],"mappings":"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","file":"static/js/10.6ae9d193.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport * as INT from '../../helpers/interfaces'\nimport { filterNoImg, reverseMe } from '../../helpers/helperFunctions'\nimport logo from '../../media/img/logo.png'\nimport YouTube from 'react-youtube'\nimport Scrollbar from 'react-scrollbars-custom'\nimport get from 'lodash.get'\nimport IMG from '../../media/img/index'\nimport useWindowSize from '@rehooks/window-size';\n\nconst URL = 'https://image.tmdb.org/t/p/original'\n\nconst Options = {\n  // @ts-ignore\n  height: '50vh',\n  playerVars: {\n    autoplay: 1,\n    cc_load_policy: 0,\n    disablekb: 1,\n    origin: 'http://localhost:3000/',\n    enablejsapi: 1,\n    iv_load_policy: 3,\n    loop: 1,\n    modestbranding: 1,\n    playsinline: 1,\n    rel: 0,\n    showinfo: 0,\n  }\n}\n\ninterface IProducer { name: string }\ninterface IGenres { id: number, name: string }\n\n/**\n * Displays selected item page/modal\n * @function\n * @param {object} movieInfo Contains selected item info\n */\nconst TitleModal: React.FC<INT.ITitleModalProps> = ({ movieInfo, }): JSX.Element | null => {\n\n  let ww = useWindowSize();\n  const [_WW, set_WW] = useState<number>(0)\n  const [bottomMargin, setbottomMargin] = useState<number>(0)\n\n  useEffect(() => {\n    if (ww.innerWidth > 1366) {\n      set_WW(130)\n      setbottomMargin(10)\n    } else if (ww.innerWidth <= 1366) {\n      set_WW(100)\n      setbottomMargin(40)\n    } else if (ww.innerWidth < 768) {\n      // 2\n      set_WW(145)\n      setbottomMargin(45)\n    }\n  }, [ww.innerWidth])\n\n  // get everything with lodash/get to avoid loading page \n  // before mounting component\n  const backdrop_path: string = get(movieInfo, 'backdrop_path', '')\n  const homepage: string = get(movieInfo, 'homepage', '')\n  const original_language: string = get(movieInfo, 'original_language', '')\n  const overview: string = get(movieInfo, 'overview', '')\n  const release_date: string = get(movieInfo, 'release_date', '')\n  const runtime: any = get(movieInfo, 'runtime', '')\n  const tagline: string = get(movieInfo, 'tagline', '')\n  const title: string = get(movieInfo, 'title', '')\n  const movieVid: string = get(movieInfo, 'videos.results[0].key', '')\n  const vote_average: any = get(movieInfo, 'vote_average', '')\n  const created_by: [] = get(movieInfo, 'created_by', [])\n  const first_air_date: string = get(movieInfo, 'first_air_date', '')\n  const episode_run_time: [] = get(movieInfo, 'episode_run_time', [])\n  const genres: IGenres[] = get(movieInfo, 'genres', [])\n  const name: string = get(movieInfo, 'name', '')\n  const number_of_seasons: string = get(movieInfo, 'number_of_seasons', '')\n\n\n  return (\n    <div className=\"title-modal__wrapper\" style={{\n      background: `\n      linear-gradient(to right, \n        black 0%, rgba(0, 0, 0, 0.86) 47%, \n        rgba(0, 0, 0, 0.75) 64%, \n        rgba(0, 0, 0, 0.65) 79%, \n        rgba(0, 0, 0, 0) 100%), \n        url(${filterNoImg(URL, backdrop_path, String(IMG.popcorn))})`\n    }}>\n      <div className=\"title-modal__header\">\n        <div className=\"header__icons\">\n          <img src={logo} alt=\"popcorn logo\" />\n        </div>\n        <div className=\"header__title\">\n          {title\n            ? <h3>{title}</h3>\n            : <h3>{name}</h3>\n          }\n          {tagline\n            ? <h5><q>{tagline}</q></h5>\n            : null\n          }\n        </div>\n      </div>\n\n      <div className=\"title-modal__main-window\">\n        <div className=\"main-window__video\">\n          <YouTube\n            videoId={movieVid}\n            className=\"video-title-page\"\n            containerClassName=\"video-container-title-page\"\n            // @ts-ignore\n            opts={Options}\n          />\n        </div>\n        <div className=\"main-window__info\">\n          <Scrollbar\n            noDefaultStyles\n            momentum={true}\n            style={{ height: _WW, marginBottom: bottomMargin }}\n          >\n            {overview && <p>{overview}</p>}\n          </Scrollbar>\n          {genres && genres.map(({ id, name }) => <span key={id} className=\"title-genres\">{name}{' '}</span>)}\n          <ul>\n            {runtime\n              ? <li>Runtime: <span>{runtime}</span></li>\n              : <li>Episode Runtime: <span>{episode_run_time.map((ep: number) => ep + ' ')}</span> mins.</li>\n            }\n            {release_date\n              ? <li>Release Date: <span>{reverseMe(release_date)}</span></li>\n              : <li>Release Date: <span>{reverseMe(first_air_date)}</span></li>\n            }\n            <li>Original Language: <span>{original_language && original_language.toUpperCase()}</span></li>\n            <li>Vote Average: <span>{vote_average && vote_average}</span> pops</li>\n            {number_of_seasons\n              ? <li>Seasons: <span>{number_of_seasons}</span></li>\n              : null\n            }\n            {created_by && created_by.length >= 1\n              ? <li>Created By: <span>{created_by.map(({ name }: IProducer) => name + '  ')} </span></li>\n              : null\n            }\n          </ul>\n          <a href={homepage} target=\"_blank\" rel=\"noopener noreferrer\">\n            <img src={String(IMG.internet)} alt=\"internet\" />\n          </a>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n\nexport default TitleModal\n\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { RouteComponentProps } from \"react-router\"\nimport * as INT from '../../helpers/interfaces'\nimport TitleModal from '../../components/TitleModal/TitleModal'\nimport { Transition } from 'react-spring/renderprops.cjs'\nimport back from '../../media/img/back.png'\n\nconst closeStyle: React.CSSProperties = {\n  position: 'absolute',\n  top: 0,\n  margin: '40px 0',\n  left: '3%',\n  width: '35px',\n  cursor: 'pointer'\n}\n\n\nconst TitlePage: React.FC<INT.ITitlePageProps & RouteComponentProps> = ({\n  movieInfoModal,\n  serieInfoModal,\n  isMovieModalOpen,\n  isRelatedMovieSelected,\n  history }): JSX.Element => {\n\n  const [show, set] = useState(false)\n\n  useEffect(() => {\n    set(true)\n    // set modal to false on route unmount\n    return () => set(false)\n  }, [])\n\n  const handleClose = () => {\n    set(false)\n    setTimeout(() => {\n      history.goBack()\n    }, 300);\n  }\n\n  return (\n    <Transition\n      items={show}\n      from={{ opacity: 0, transform: 'translate3d(0, -100%, 0)' }}\n      enter={{ opacity: 1, transform: 'translate3d(0, 0%, 0)' }}\n      leave={{ opacity: 0, transform: 'translate3d(0, -100%, 0)' }}\n      config={{ tension: 200, mass: 1, friction: 26, clamp: true, velocity: 1, }}\n    >\n      {show => show && (props =>\n        <div style={props}>\n          <TitleModal\n            movieInfo={isRelatedMovieSelected ? movieInfoModal : serieInfoModal}\n            isMovieModalOpen={isMovieModalOpen}\n            show={show}\n          />\n\n          <div className=\"close\" onClick={handleClose} >\n            <img src={back} alt=\"close modal\" style={closeStyle} />\n          </div>\n        </div>\n\n      )}\n    </Transition>\n  )\n}\n\n\nconst mapStateToProps = (state: any) => {\n  return {\n    isMovieModalOpen: state.uiReducer.isMovieModalOpen,\n    isMovieCatSelected: state.uiReducer.isMovieCatSelected,\n    movieInfoModal: state.moviesReducer.movieInfoModal,\n    serieInfoModal: state.seriesReducer.serieInfoModal,\n    isRelatedMovieSelected: state.uiReducer.isRelatedMovieSelected\n  }\n}\n\nexport default connect(mapStateToProps, {})(TitlePage)\n\n\n\n"],"sourceRoot":""}